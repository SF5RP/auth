# üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.## üöÄ –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Backend```bashgo mod tidy```### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.env`:```bash# Windowsnotepad config.env# Linux/Macnano config.env# –∏–ª–∏vim config.env```–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ:- `DISCORD_CLIENT_ID`- `DISCORD_CLIENT_SECRET`- `JWT_SECRET`### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö#### –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):```bashdocker-compose up -d db```#### –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –≤ PostgreSQL:```sqlCREATE DATABASE authdb;CREATE USER auth WITH PASSWORD 'authpassword';GRANT ALL PRIVILEGES ON DATABASE authdb TO auth;```### 4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏```bashgo run cmd/migrator/main.go up```### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Backend```bashgo run main.go```Backend –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ http://localhost:8080### 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Frontend```bashcd frontendnpm install```### 7. –°–æ–∑–¥–∞–π—Ç–µ `.env.local` –¥–ª—è Frontend```bash# Windowscd frontendecho NEXT_PUBLIC_API_URL=http://localhost:8080 > .env.localecho NEXT_PUBLIC_APP_URL=http://localhost:3000 >> .env.local# Linux/Maccd frontendcat > .env.local << EOFNEXT_PUBLIC_API_URL=http://localhost:8080NEXT_PUBLIC_APP_URL=http://localhost:3000EOF```### 8. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Frontend```bashcd frontendnpm run dev```Frontend –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ http://localhost:3000### 9. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä```http://localhost:3000```---## üîÑ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞### –ó–∞–ø—É—Å–∫ Backend```bashgo run main.go```### –ó–∞–ø—É—Å–∫ Frontend```bashcd frontendnpm run dev```### –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —á–µ—Ä–µ–∑ Docker```bashdocker-compose up -d```---## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö### –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏```bashgo run cmd/migrator/main.go up```### –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏```bashgo run cmd/migrator/main.go down```### –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î (—á–µ—Ä–µ–∑ Docker)```bashdocker exec -it auth-db-1 psql -U auth -d authdb```### –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î (–ª–æ–∫–∞–ª—å–Ω–æ)```bashpsql -h localhost -U auth -d authdb```### –ü–æ–ª–µ–∑–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã```sql-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–πSELECT * FROM users;-- –°–¥–µ–ª–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–ºUPDATE users SET role = 'admin' WHERE id = 1;-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å refresh —Ç–æ–∫–µ–Ω—ãSELECT * FROM refresh_tokens;-- –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ãDELETE FROM refresh_tokens WHERE expires_at < NOW();```---## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ### –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend API```bash# Health checkcurl http://localhost:8080/health# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω)curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8080/me# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω—É–∂–Ω–∞ —Ä–æ–ª—å admin)curl -H "Authorization: Bearer YOUR_TOKEN" http://localhost:8080/admin/users```### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã```bash# Windows.\test-api.ps1# Linux/Mac./test-api.sh```---## üê≥ Docker –∫–æ–º–∞–Ω–¥—ã### –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞```bashdocker-compose up -d```### –û—Å—Ç–∞–Ω–æ–≤–∫–∞```bashdocker-compose down```### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤```bashdocker-compose builddocker-compose up -d```### –õ–æ–≥–∏```bash# –í—Å–µ –ª–æ–≥–∏docker-compose logs -f# –¢–æ–ª—å–∫–æ backenddocker-compose logs -f backend# –¢–æ–ª—å–∫–æ –ë–îdocker-compose logs -f db```### –û—á–∏—Å—Ç–∫–∞```bash# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ãdocker-compose down# –£–¥–∞–ª–∏—Ç—å –∏ volumes (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ –ë–î)docker-compose down -v```---## üî® –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞### Backend```bash# –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞go build -o user-service# Windowsgo build -o user-service.exe# –ó–∞–ø—É—Å–∫./user-service  # –∏–ª–∏ user-service.exe –Ω–∞ Windows```### Frontend```bashcd frontend# –°–±–æ—Ä–∫–∞npm run build# –ó–∞–ø—É—Å–∫ production –≤–µ—Ä—Å–∏–∏npm start```---## üîç –û—Ç–ª–∞–¥–∫–∞### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤```bash# Windowsnetstat -ano | findstr :8080netstat -ano | findstr :3000# Linux/Maclsof -i :8080lsof -i :3000```### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è```bash# Backend (–≤ Go –∫–æ–¥–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)fmt.Println(os.Getenv("DISCORD_CLIENT_ID"))# Frontend (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)console.log(process.env.NEXT_PUBLIC_API_URL)```### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞```bash# Gogo clean -cache# Frontendcd frontendrm -rf .next node_modules package-lock.jsonnpm install```---## üìù Git –∫–æ–º–∞–Ω–¥—ã### –ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç```bashgit initgit add .git commit -m "Initial commit: User Service with Go backend and Next.js frontend"```### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `.gitignore` –≤–∫–ª—é—á–∞–µ—Ç:```gitignore# Backend*.exeuser-service# Frontendfrontend/node_modules/frontend/.next/frontend/.env.local# Database*.db# IDE.vscode/.idea/# Environment.env.env.local```---## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º### "go: cannot find main module"```bashgo mod init user-servicego mod tidy```### "npm ERR! network"```bashnpm cache clean --forcenpm install```### "dial tcp: connect: connection refused" (–ë–î)```bash# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞docker ps# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ë–îdocker-compose restart db```### "Port already in use"```bash# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É (Windows)netstat -ano | findstr :8080taskkill /PID <PID> /F# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É (Linux/Mac)lsof -ti:8080 | xargs kill -9```---## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è- [README.md](./README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è- [QUICKSTART.md](./QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤- [DEPLOYMENT.md](./DEPLOYMENT.md) - –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ- [UPDATE_DATABASE.md](./UPDATE_DATABASE.md) - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î- [COMPLETED.md](./COMPLETED.md) - –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ---**–£–¥–∞—á–∏! üöÄ**